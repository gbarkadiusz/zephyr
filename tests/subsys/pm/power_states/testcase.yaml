# Copyright (c) 2025 Intel Corporation
# SPDX-License-Identifier: Apache-2.0

tests:
  pm.power_states:
    platform_allow:
      - stm32l562e_dk
    tags:
      - pm
    harness: pytest
    harness_config:
      pytest_dut_scope: session
      pytest_args: [--powershield=<path_to>/STMicroelectronics_PowerShield__Virtual_ComPort,
                    --expected-values=<path_to>/stm32l562e_dk.yaml]
  pm.power_states.pm_device:
    platform_allow:
      - stm32l562e_dk
    tags:
      - pm
    extra_args:
      - CONFIG_PM_DEVICE=y
    harness: pytest
    harness_config:
      pytest_dut_scope: session
      pytest_args: [--powershield=<path_to>/STMicroelectronics_PowerShield__Virtual_ComPort,
                    --expected-values=<path_to>/stm32l562e_dk.yaml]
  pm.power_states.pm_device_runtime:
    platform_allow:
      - stm32l562e_dk
    tags:
      - pm
    extra_args:
      - CONFIG_PM_DEVICE=y
      - CONFIG_PM_DEVICE_RUNTIME=y
    harness: pytest
    harness_config:
      pytest_dut_scope: session
      pytest_args: [--powershield=<path_to>/STMicroelectronics_PowerShield__Virtual_ComPort,
                    --expected-values=<path_to>/stm32l562e_dk.yaml]
  pm.power_states.pm_device_system_managed:
    platform_allow:
      - stm32l562e_dk
    tags:
      - pm
    extra_args:
      - CONFIG_PM_DEVICE=y
      - CONFIG_PM_DEVICE_SYSTEM_MANAGED=y
    harness: pytest
    harness_config:
      pytest_dut_scope: session
      pytest_args: [--powershield=<path_to>/STMicroelectronics_PowerShield__Virtual_ComPort,
                    --expected-values=<path_to>/stm32l562e_dk.yaml]
